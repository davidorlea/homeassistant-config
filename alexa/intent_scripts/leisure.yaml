BoulderGymIntent:
  speech:
    type: plain
    text: >-
      {% set used = states("sensor.boulderado_gym_slots_used") %}
      {% set free = states("sensor.boulderado_gym_slots_free") %}
      {% set occupancy = states("sensor.boulderado_gym_occupancy") %}
      {% if used == "unknown" or free == "unknown" or occupancy == "unknown" %}
      {{ [
        "Das weiß ich leider gerade nicht.",
        "Das kann ich dir leider gerade nicht sagen."
        ] | random }}
      {% elif occupancy | int == 0 %}
      In der Boulderhalle ist gerade nichts los. Es sind alle Plätze noch frei.
      {% elif occupancy | int < 33 %}
      In der Boulderhalle ist gerade wenig los. Es sind {{ used }} Personen da und noch {{ free }} Plätze frei. Das entspricht etwa {{ occupancy }} Prozent der maximalen Auslastung.
      {% elif occupancy | int < 67 %}
      In der Boulderhalle ist gerade etwas los. Es sind {{ used }} Personen da und noch {{ free }} Plätze frei. Das entspricht etwa {{ occupancy }} Prozent der maximalen Auslastung.
      {% elif occupancy | int < 100 %}
      In der Boulderhalle ist gerade viel los. Es sind {{ used }} Personen da und noch {{ free }} Plätze frei. Das entspricht etwa {{ occupancy }} Prozent der maximalen Auslastung.
      {% else %}
      In der Boulderhalle ist gerade sehr viel los. Es sind keine Plätze mehr frei.
      {% endif %}
