homeassistant:
  name: !secret homeassistant_name
  latitude: !secret homeassistant_latitude
  longitude: !secret homeassistant_longitude
  elevation: !secret homeassistant_elevation
  unit_system: metric
  time_zone: !secret homeassistant_time_zone
  customize: !include customize.yaml
  customize_glob: !include customize_glob.yaml

logger:
  default: warning
  logs:
    homeassistant.components.http.ban: warning

frontend:
  javascript_version: latest

map:

config:

http:
  server_port: !secret http_server_port
  api_password: !secret http_api_password
  use_x_forwarded_for: true
  trusted_proxies:
    - 127.0.0.1
  trusted_networks:
    - 127.0.0.1
    - 192.168.178.0/24
  ip_ban_enabled: true
  login_attempts_threshold: 5

updater:
  reporting: false

influxdb:
  host: !secret influxdb_host
  username: !secret influxdb_username
  password: !secret influxdb_password
  database: !secret influxdb_database
  include:
    entities:
      - sensor.owm_temperature
      - sensor.owm_humidity
      - sensor.owm_cloud_coverage
      - sensor.owm_pressure
  component_config:
    sensor.owm_temperature:
      override_measurement: 'sensor.owm_temperature'
    sensor.owm_humidity:
      override_measurement: 'sensor.owm_humidity'
    sensor.owm_cloud_coverage:
      override_measurement: 'sensor.owm_cloud_coverage'
    sensor.owm_pressure:
      override_measurement: 'sensor.owm_pressure'

recorder:
  db_url: !secret recorder_db_url
  exclude:
    domains:
      - group
      - media_player
      - sun
      - weather
    entities:
      - script.occupancy_simulation_start
      - script.occupancy_simulation_stop
      - script.occupancy_simulation_loop
      - sensor.period_of_day
      - sensor.moon
      - sensor.load_1m
      - sensor.load_5m
      - sensor.load_15m
      - sensor.processor_use
      - sensor.memory_use_percent
      - sensor.disk_use_percent
      - sensor.last_boot
      - sensor.uptime
      - sensor.owm_condition
      - sensor.owm_forecast
      - sensor.outdoor_frontdoor_light_uptime
      - sensor.outdoor_frontdoor_light_firmware
      - sensor.outdoor_frontdoor_light_wifi_ip
      - sensor.outdoor_backdoor_light_uptime
      - sensor.outdoor_backdoor_light_firmware
      - sensor.outdoor_backdoor_light_wifi_ip
      - sensor.kitchen_ceiling_light_uptime
      - sensor.kitchen_ceiling_light_firmware
      - sensor.kitchen_ceiling_light_wifi_ip
      - sensor.kitchen_sideboard_light_uptime
      - sensor.kitchen_sideboard_light_firmware
      - sensor.kitchen_sideboard_light_wifi_ip
      - sensor.kitchen_cabinet_light_uptime
      - sensor.kitchen_cabinet_light_firmware
      - sensor.kitchen_cabinet_light_wifi_ip
      - sensor.living_room_ceiling_light_uptime
      - sensor.living_room_ceiling_light_firmware
      - sensor.living_room_ceiling_light_wifi_ip
      - sensor.living_room_sofa_light_uptime
      - sensor.living_room_sofa_light_firmware
      - sensor.living_room_sofa_light_wifi_ip
      - sensor.hall_ceiling_light_uptime
      - sensor.hall_ceiling_light_firmware
      - sensor.hall_ceiling_light_wifi_ip
      - updater.updater

history:
  exclude:
    domains:
      - automation
      - script

logbook:

system_health:

sun:

tts:
  platform: google
  cache: true
  cache_dir: /tmp/tts
  time_memory: 300
  language: 'de'

zone:
  name: Home
  latitude: !secret homeassistant_latitude
  longitude: !secret homeassistant_longitude
  radius: 100
  icon: mdi:home

mqtt:
  broker: !secret mqtt_broker
  port: !secret mqtt_port
  client_id: !secret mqtt_client_id
  username: !secret mqtt_username
  password: !secret mqtt_password
  birth_message:
    topic: 'home-assistant-1/$online'
    payload: 'true'
    qos: 2
    retain: false
  will_message:
    topic: 'home-assistant-1/$online'
    payload: 'false'
    qos: 2
    retain: false

mqtt_eventstream:
  publish_topic: 'home-assistant-1/$eventstream/publish'
  subscribe_topic: 'home-assistant-1/$eventstream/subscribe'

media_player:
  - platform: sonos
    hosts:
      - 192.168.178.22
      - 192.168.178.30
    entity_namespace: 'sonos_device'

ios:

automation: !include_dir_merge_list automations

binary_sensor: !include binary_sensors.yaml

group: !include groups.yaml

input_boolean: !include input_boolean.yaml

light: !include lights.yaml

sensor: !include sensors.yaml

scene: !include scenes.yaml

script: !include scripts.yaml
